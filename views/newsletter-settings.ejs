<!DOCTYPE html>
<html>
    <head>
        <title>Udemy demo webview</title>
        <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximun-scale-1">
        <link rel="stylesheet" href="/webview.css">
    </head>
    <body>
        <div class="container">
            <h3>Newsletter settings</h3>
            <form action="/webview/save" method="get">
                <h5>Frequency</h5>
                <input type="radio" name="Newsletter" value="1">Weekly <br>
                <input type="radio" name="Newsletter" value="2">Daily <br>
                <input type="radio" name="Newsletter" value="0">Never <br>
                <h5> Topics</h5>
                <input type="checkbox" name="topics[]" value="IPhone">IPhone <br>
                <input type="checkbox" name="topics[]" value="IPad">IPad <br>
                <input type="checkbox" name="topics[]" value="Mac">Mac <br>
                <h5>Send Ideals</h5>
                <input type="radio" name="Newsletter" value="1">Yes <br>
                <input type="radio" name="Newsletter" value="0">No <br>

                <button id="submitButton" type="submit" value="submit">Submit</button>
            </form>
        </div>


        <script>
            (function(d, s, id){
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/messenger.Extensions.js";
            fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'Messenger'));

            window.extAsyncInit = function() {
            // the Messenger Extensions JS SDK is done loading 
            };

            document.getElementById('submitButton').addEventListener('click',function(){
                MessengerExtensions.requestCloseBrowser(function success() {
                    // webview closed
                }, function error(err) {
                    // an error occurred
                });
            })
            
        </script>
        
    </body>
</html>